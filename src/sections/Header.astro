---
import Close from "@/icons/close.astro";
import Logo from "@/icons/dev.astro";
import Menu from "@/icons/menu.astro";
---

<header class="w-full py-6 px-4 md:px-8 text-white bg-transparent">
  <div class="max-w-6xl mx-auto">
    <div class="flex justify-between items-center">
      <!-- Logo -->
      <a href="/" class="flex items-center gap-2 text-2xl font-bold">
        <Logo class="text-blue-500 w-10 h-10" />
        <span class="hidden sm:inline">Gabydev</span>
      </a>

      <!-- Botón menú (solo mobile) -->
      <button
        id="toggle-menu"
        class="md:hidden p-2 text-slate-300 relative z-50"
        aria-label="Abrir menú"
      >
        <Menu class="w-7 h-7" />
      </button>

      <button
        id="toggle-close-menu"
        class="hidden p-2 text-slate-300 relative z-50"
        aria-label="Abrir menú"
      >
        <Close class="w-7 h-7" />
      </button>

      <!-- Navegación -->
      <nav
        id="menu"
        class="hidden md:flex flex-col md:flex-row absolute md:static top-0 left-0 w-full md:w-auto h-screen md:h-auto bg-transparent backdrop-blur-lg md:backdrop-blur-none items-center justify-center md:justify-end gap-8 md:gap-10 text-lg transition-all duration-300"
      >
        <ul
          class="flex flex-col md:flex-row gap-8 md:gap-10 text-xl cursor-pointer"
        >
          <li>
            <a
              href="/"
              class="group relative text-white hover:text-sky-400 transition-colors duration-300"
            >
              Inicio
              <span
                class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-500 transition-all duration-300 group-hover:w-full"
              ></span>
            </a>
          </li>

          <li>
            <a
              href="/sobre-mi"
              class="group relative text-white hover:text-sky-400 transition-colors duration-300"
            >
              Sobre mí
              <span
                class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-500 transition-all duration-300 group-hover:w-full"
              ></span>
            </a>
          </li>

          <li>
            <a
              href="/proyectos"
              class="group relative text-white hover:text-sky-400 transition-colors duration-300"
            >
              Proyectos
              <span
                class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-500 transition-all duration-300 group-hover:w-full"
              ></span>
            </a>
          </li>

          <li>
            <a
              href="/#contacto"
              class="group relative text-white hover:text-sky-400 transition-colors duration-300"
            >
              Contacto
              <span
                class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-500 transition-all duration-300 group-hover:w-full"
              ></span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

<!-- JS -->
<script>
  const toggle = document.getElementById("toggle-menu");
  const closeToggle = document.getElementById("toggle-close-menu");
  const menu = document.getElementById("menu");

  toggle?.addEventListener("click", () => {
    menu?.classList.toggle("hidden");
    menu?.classList.toggle("flex");
    toggle?.classList.toggle("hidden");
    closeToggle?.classList.toggle("hidden");
  });

  closeToggle?.addEventListener("click", () => {
    menu?.classList.toggle("hidden");
    menu?.classList.toggle("flex");
    toggle?.classList.toggle("hidden");
    closeToggle?.classList.toggle("hidden");
  });
</script>
